{% extends 'base_layout.html' %}
{% block content %}
<div class="container">
    <form>
        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Email address</label>
            <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
        </div>
        <div class="mb-3">
            <label for="floatingTextarea2" class="form-label">message</label>
            <div class="form-floating">
            <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea2"
                      ></textarea>
                <label for="floatingTextarea2">message</label>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script>
const form = document.getElementsByTagName('form')[0]
const email = document.getElementById('exampleInputEmail1')
const message = document.getElementById('floatingTextarea2')
form.addEventListener('submit', (e) =>{
e.preventDefault();
$.ajax({
       url : '/showdata',
       type : 'GET', //method used POST or GET
       data : {email : email.value,message : message.value},
       success : function(result){
        console.log(result);
       },
       error : function(result, statut, error){
        console.log('error')
       }

    });
});
console.log(form);
</script>
{% endblock %}